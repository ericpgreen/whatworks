---
title: "Development as Freedom In-Class Assignment"
output: 
  pdf_document:
    highlight: tango
---

```{r, include=FALSE}
# DO NOT MODIFY THIS CHUNK
# this is an R code chunk
# remember, R can't read comments following a hash in this section
# this chunk won't print to the pdf because we said include=FALSE
  library(knitr)
  opts_chunk$set(message=FALSE)          # turn off messages
  options(scipen=999)                    # turn off scientific notation
  knit_hooks$set(inline = function(x) {  # thousands sep
    prettyNum(x, big.mark=",")
  })
```

Your assignment is to research the [UN Human Development Reports](http://hdr.undp.org/en/2014-report) and answer a series of questions outlined below. Please work in pairs and submit just one document (pdf) at the end of class today.

# Setup

Start by downloading this [`.Rmd` template]() and opening it in RStudio. Remember, the content in-between each pair of three backticks (grey background) is an R code chunk. Everything outside of a chunk is regular text written in [Markdown](http://daringfireball.net/projects/markdown/syntax). Markdown syntax is very simple to learn and use; you should know just about everything you need to know about Markdown by the time you finish today.

Part of this assignment will require you to work with Human Development Data from the UN. You can access the data in multiple ways:

* [Google Public Data Explorer](http://hdr.undp.org/en/data-explorer)
* [Direct download](http://hdr.undp.org/en/data-explorer)
* [Programmatic access via the API](http://hdr.undp.org/en/data/api)

APIs are not hard to write once you know what you are doing, but this is beyond our scope today. Fortunately, a project called [`ROpenHealth`](https://github.com/rOpenHealth) created an R package called [`rUNdp`](https://github.com/rOpenHealth/rUN_development_reports) that does the hard work for us.

You'll need to install this package from GitHub to use it because the package is not available on CRAN, the official R package repository. To download packages from GitHub, you first need to install and load `devtools`. You can do this from within RStudio by clicking on `Packages -> Install` and typing `devtools`. You can also paste `install.packages("devtools")` into the Console. Regardless of the method you choose, this is a one-time process to install the `devtools` package on your machine. The next step is to load the library.

```{r devtools, results='markup'}
# install and load packages
  # install.packages("devtools") # this is a one-time process
  library(devtools)
```

Next you should copy and paste `install_github("rUN_development_reports", "ROpenHealth")` into your Console. This is a one-time process to install the `rUNdp` package on your machine. After installing, go ahead and load the package.

```{r rUNdp}
# install_github("rUN_development_reports", "ROpenHealth") # one-time process
  library(rUNdp)
```

If you were successful, you should be able to run the next chunk and see a new object called `tables` in your Environment tab. The `tables` object is a list containing data from [every UN table](http://hdr.undp.org/en/content/exporting-data-and-understanding-api). 

```{r check}
  tables <- all_undp_tables()
  names(tables) <- c("Table 1: Human Development Index and its components (HDI)",
                    "Table 2: Human Development Index trends, 1980-2013",
                  	"Table 3: Inequality-adjusted Human Development Index (IHDI)",
                  	"Table 4: Gender Inequality Index (GII)",
                  	"Table 5: Gender-related development index (GDI)",
                    "Table 6A: Multidimensional Poverty Index",
                  	"Table 6: Multidimensional Poverty Index (MPI)",
                    "not certain",
                  	"Table 7: Health: Children and youth",
                  	"Table 8: Adult health and health expenditure",
                  	"Table 9: Education",
                  	"Table 10: Command over and allocation of resources",
                  	"Table 11: Social competencies",
                  	"Table 12: Personal insecurity",
                  	"Table 13: International integration",
                  	"Table 14: Environment",
                  	"Table 15: Population trends",
                  	"Table 16: Supplementary Indicators: Perceptions of well-being")
```

# Assignment

## Question 1
> What is the Human Development Index (HDI) and how does it relate to Sen's "Development as Freedom"?

## Question 2
> List some potential pros and cons of constructing an index like the HDI.

## Question 3
> How is the HDI constructed? What are the dimensions and how are they measured?

## Question 4
> The dimensions of the HDI are given equal weight. What does this mean conceptually about the HDI? 

## Question 5
> What is the Multidimensional Poverty Index (MPI)? What does it offer in relation to a standard poverty line?

## Question 6
> How is the MPI constructed?

## Exercise
Let's assume a country is made up of 4 households. We want to calculate the headcount ratio (H), intensity of poverty (A), and the country's MPI score. 

```{r mpi}
# create data frame
  mpi <- data.frame(hh=c(1, 2, 3, 4),                    
                    hhSize=c(4, 7, 5, 4),               # household size
                    # education
                      # no one has completed five years of schooling
                        edu.no5yrSchool=c(0, 1, 0, 1),  
                      # at least one school-age child not enrolled in school
                        edu.oneChildNotEnroll=c(0, 1, 0, 0),
                    # health
                      # at least one member is malnourished
                        health.oneMalN=c(0, 0, 1, 0),
                      # one or more children have died
                        health.childMort=c(1, 1, 0, 1),
                    # living conditions
                      # no electricity
                        living.noElec=c(0, 1, 1, 1),
                      # no access to clean drinking water
                        living.noWater=c(0, 0, 1, 0),
                      # no access to adequate sanitation
                        living.noSan=c(0, 1, 1, 0),
                      # house has dirt floor
                        living.dirtFloor=c(0, 0, 0, 0),
                      # Household uses dirty cook fuel (dung/firewood/charcoal)
                        living.dirtyFuel=c(1, 1, 1, 1),
                      # Household has no car and owns at most one of: 
                      # bicycle, motorcycle, radio, frige, phone, tv
                        living.trans=c(0, 1, 0, 1))
  summary(mpi)
```

### Question 7
> What percentage of households in this 4-household country are deprived in terms of no one in the household having completed five years of schooling?
Hint: look at mean

### Question 8
> Each dimenion is weighted 1/3 in the overall calculation. Education has two indicators, so each education indicator is weighted `(1/3)/2=16.7`. Using the same logic, what is the weight of each living condition indicator?

### Question 9
> A household's deprivation score is the sum of each deviation multiplied by the indicator's weight. What is the deprivation score for Household 1?

```{r hh1}
  kable(t(mpi[1:4,]), format = "markdown")
```

### Question 10
> How many households would be defined as poor (i.e., deprivation score > 33.3%)?

### Question 11 
> To calculate the percentage of people in poverty (headcount ratio, or H), we need to divide the sum of "poor" household sizes by the sum of all household sizes. This means our denomiator is `4+7+5+4=20` because this country has 4 households and the respective household sizes are 4, 7, 5, and 4. Only "poor" household sizes go in the numerator. So using your answer to the previous question to guide you, what is the numerator, `x`?

```{r H}
  x <- 0            # replace 0 with your answer
  H <- (x/(4+7+5+4))*100
```

Based on your answer, we conclude that `r H` percent of people live in poor households.

### Question 12
> To calculate the intensity of poverty (A), we need to divide the sum of "poor" household deprivation scores by the sum of all household sizes. This means our denomiator remains `4+7+5+4=20`. Only "poor" household deprivation scores go in the numerator. What is the numerator, `y`?

```{r A}
  y <- 0            # replace 0 with your answer
  A <- (y/(4+7+5+4))*100
```

Based on your answer, we conclude that the average poor person is deprived in `r A` percent the weighted indicators.

This country's MPI score is equal to `H * A`, or `r H*A`
